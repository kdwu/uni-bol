import{_ as e,A as s,B as t,C as a,s as o,n as r,p as l,o as i,c as p,a as n,e as d,b as c,d as h,t as w,x as g,F as x,q as f,z as u,i as y,I as m,f as _}from"./index-DwQl5z1t.js";import{_ as b}from"./back.4xmjFoKr.js";const k=e({data:()=>({phone:"",code:"",password:"",passwordRepeat:"",isPassword:!0,isRepearPassword:!0}),computed:{isButtonDisabled(){return""===this.password||""===this.passwordRepeat||this.password.length<6||this.passwordRepeat.length<6||this.password!==this.passwordRepeat}},onLoad(e){this.phone=e.phone,this.code=e.code},methods:{back(){s()},changePasswordVisiable(){this.isPassword=!this.isPassword},changeRepeatPasswordVisiable(){this.isRepearPassword=!this.isRepearPassword},verify(){let e={phone:this.phone,code:this.code,password:this.password};t({title:this.$t("waiting"),mask:!0}),this.$H.post("/user/set_pwd",e).then((e=>{a(),console.log(e),o("token",e.token),r({url:"/pages/account/login/login"})})).catch((e=>{a()}))}}},[["render",function(e,s,t,a,o,r){const k=l("status-bar"),C=d,F=u,P=y,R=m,z=_;return i(),p(C,null,{default:n((()=>[c(C,null,{default:n((()=>[c(k)])),_:1}),c(C,{class:"flex flex-row p-31 align-center"},{default:n((()=>[c(F,{src:b,style:{width:"45rpx",height:"45rpx"},onClick:r.back},null,8,["onClick"]),c(P,{class:"w_fill",style:{"text-align":"center","font-size":"36rpx",color:"#3C3C3C","font-weight":"bolder"}},{default:n((()=>[h(w(e.$t("set.password")),1)])),_:1})])),_:1}),c(C,{style:{"margin-top":"225rpx",background:"linear-gradient(to bottom, #DCE3DC, #F9FFF9, #FFFFFF)","box-shadow":"0rpx 2rpx 4rpx 0rpx rgba(0,0,0,0.16)"},class:"mx-30 px-30 flex flex-column align-center rounded-20"},{default:n((()=>[c(P,{style:{"font-size":"34rpx","font-weight":"500",color:"#A2227F","margin-top":"58rpx","text-align":"center"},class:"flex justify-center align-center"},{default:n((()=>[h(w(e.$t("set.password.tips")),1)])),_:1}),c(C,{class:"flex align-center border-bottom",style:{width:"100%","margin-top":"30rpx"}},{default:n((()=>[c(R,{type:o.isPassword?"password":"text",modelValue:o.password,"onUpdate:modelValue":s[0]||(s[0]=e=>o.password=e),class:"flex-1",placeholder:e.$t("password"),"placeholder-style":"color:#B4B4B4; font-size:30rpx; font-weight:500; text-align: center;",style:{height:"90rpx",color:"#444444","font-weight":"500","font-size":"30rpx","text-align":"center"}},null,8,["type","modelValue","placeholder"]),c(C,{class:"px-20 flex align-center justify-center",style:{height:"90rpx"},onClick:r.changePasswordVisiable},{default:n((()=>[c(F,{src:o.isPassword?"/static/icon/hide_password.png":"/static/icon/show_password.png",style:{width:"46rpx",height:"46rpx"},mode:"aspectFit"},null,8,["src"])])),_:1},8,["onClick"])])),_:1}),c(C,{class:"flex align-center w_fill border-bottom",style:{"margin-top":"25rpx"}},{default:n((()=>[c(R,{type:o.isRepearPassword?"password":"text",modelValue:o.passwordRepeat,"onUpdate:modelValue":s[1]||(s[1]=e=>o.passwordRepeat=e),class:"flex-1",placeholder:e.$t("repeat.password"),"placeholder-style":"color:#B4B4B4; font-size:30rpx; font-weight:500; text-align: center;",style:{height:"90rpx",color:"#444444","font-weight":"500","font-size":"30rpx","text-align":"center"}},null,8,["type","modelValue","placeholder"]),c(C,{class:"px-20 flex align-center justify-center",style:{height:"90rpx"},onClick:r.changeRepeatPasswordVisiable},{default:n((()=>[c(F,{src:o.isRepearPassword?"/static/icon/hide_password.png":"/static/icon/show_password.png",style:{width:"46rpx",height:"46rpx"},mode:"aspectFit"},null,8,["src"])])),_:1},8,["onClick"])])),_:1}),""!==o.password?(i(),g(x,{key:0},[o.password!==o.passwordRepeat?(i(),p(P,{key:0,style:{"margin-top":"24rpx",color:"#EA1E1E","font-size":"30rpx","font-weight":"500","text-align":"center"}},{default:n((()=>[h(w(e.$t("set.password.tips2")),1)])),_:1})):(i(),g(x,{key:1},[o.password.toString().length<6?(i(),p(P,{key:0,style:{"margin-top":"24rpx",color:"#EA1E1E","font-size":"30rpx","font-weight":"500","text-align":"center"}},{default:n((()=>[h(w(e.$t("set.password.tips3")),1)])),_:1})):(i(),g(x,{key:1},[o.password.toString().length>12?(i(),p(P,{key:0,style:{"margin-top":"24rpx",color:"#EA1E1E","font-size":"30rpx","font-weight":"500","text-align":"center"}},{default:n((()=>[h(w(e.$t("set.password.tips4")),1)])),_:1})):(i(),p(C,{key:1,style:{height:"66rpx"}}))],64))],64))],64)):(i(),p(C,{key:1,style:{height:"66rpx"}})),c(C,{class:"w_fill",style:{"margin-top":"18rpx"}},{default:n((()=>[c(z,{type:"primary",disabled:r.isButtonDisabled,style:f({backgroundColor:r.isButtonDisabled?"#CCCCCC":"#A2227F",height:"98rpx"}),class:"rounded-10",onClick:r.verify},{default:n((()=>[h(w(e.$t("verify")),1)])),_:1},8,["disabled","style","onClick"])])),_:1}),c(C,{style:{height:"23rpx"}})])),_:1})])),_:1})}],["__scopeId","data-v-49e50033"]]);export{k as default};
