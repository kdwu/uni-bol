import{_ as e,A as t,B as o,C as s,n as l,p as n,o as r,c as a,a as i,e as d,b as c,d as p,t as u,u as h,q as f,x as g,F as x,z as C,i as m,I as b,f as y}from"./index-DwQl5z1t.js";import{_ as w}from"./back.4xmjFoKr.js";let _=null;const k=e({data:()=>({phone:"",countdown:120,code:"",inProgress:!1,isGetCodeSuccess:!1}),computed:{isGetCodeButtonDisabled(){return""===this.phone},isConfirmButtonDisabled(){return""===this.phone||""===this.code}},methods:{back(){t()},startCountdown(){this.inProgress=!0,_=setInterval((()=>{this.countdown>0?this.countdown--:this.stopCountdown()}),1e3)},stopCountdown(){console.log("===="),clearInterval(_),this.countdown=120,_=null,this.inProgress=!1},getCode(){if(this.inProgress)return;let e={phone:this.phone};o({title:this.$t("waiting"),mask:!0}),this.$H.post("/user/get_code",e).then((e=>{this.isGetCodeSuccess=!0,this.startCountdown(),s()})).catch((e=>{s()}))},confirm(){this.inProgress&&this.stopCountdown(_),l({url:"/pages/account/set-password/set-password?phone="+this.phone+"&code="+this.code})}}},[["render",function(e,t,o,s,l,_){const k=n("status-bar"),B=d,F=C,D=m,$=b,z=n("Button"),P=y;return r(),a(B,null,{default:i((()=>[c(B,null,{default:i((()=>[c(k)])),_:1}),c(B,{class:"flex flex-row p-31 align-center"},{default:i((()=>[c(F,{src:w,style:{width:"45rpx",height:"45rpx"},onClick:_.back},null,8,["onClick"]),c(D,{class:"w_fill",style:{"text-align":"center","font-size":"36rpx",color:"#3C3C3C","font-weight":"bolder"}},{default:i((()=>[p(u(e.$t("forget.password2")),1)])),_:1})])),_:1}),c(B,{style:{"margin-top":"225rpx",background:"linear-gradient(to bottom, #DCE3DC, #F9FFF9, #FFFFFF)","box-shadow":"0rpx 2rpx 4rpx 0rpx rgba(0,0,0,0.16)"},class:"mx-30 px-30 flex flex-column align-center rounded-20"},{default:i((()=>[l.isGetCodeSuccess?(r(),a(D,{key:0,style:{"font-size":"36rpx","font-weight":"bolder",color:"#A2227F","margin-top":"58rpx","text-align":"center"},class:"flex justify-center align-center"},{default:i((()=>[p(u(e.$t("verify.code.tips"))+" "+u(l.phone),1)])),_:1})):h("",!0),c(B,{class:"flex align-center border-bottom",style:{width:"100%","margin-top":"30rpx"}},{default:i((()=>[c($,{type:"number",modelValue:l.phone,"onUpdate:modelValue":t[0]||(t[0]=e=>l.phone=e),class:"flex-1",placeholder:e.$t("phone"),"placeholder-style":"color:#B4B4B4; font-size:30rpx; font-weight:500; text-align: center;",style:{height:"90rpx",color:"#444444","font-weight":"500","font-size":"30rpx","text-align":"center"}},null,8,["modelValue","placeholder"])])),_:1}),c(B,{class:"flex align-center w_fill border-bottom",style:{"margin-top":"25rpx"}},{default:i((()=>[c($,{type:"number",modelValue:l.code,"onUpdate:modelValue":t[1]||(t[1]=e=>l.code=e),class:"flex-1",placeholder:e.$t("code"),"placeholder-style":"color:#B4B4B4; font-size:30rpx; font-weight:500; text-align: center;",style:{height:"90rpx",color:"#444444","font-weight":"500","font-size":"30rpx","text-align":"center"}},null,8,["modelValue","placeholder"]),c(B,{class:"flex align-center justify-center",style:{height:"90rpx"}},{default:i((()=>[c(z,{type:"primary",disabled:_.isGetCodeButtonDisabled,style:f({backgroundColor:_.isGetCodeButtonDisabled||l.inProgress?"#CCCCCC":"#A2227F"}),class:"rounded-10",onClick:_.getCode},{default:i((()=>[l.inProgress?(r(),g(x,{key:1},[p(u(l.countdown)+"s ",1)],64)):(r(),g(x,{key:0},[p(u(e.$t("get.code")),1)],64))])),_:1},8,["disabled","style","onClick"])])),_:1})])),_:1}),c(B,{class:"w_fill",style:{"margin-top":"45rpx"}},{default:i((()=>[c(P,{type:"primary",disabled:_.isConfirmButtonDisabled,style:f({backgroundColor:_.isConfirmButtonDisabled?"#CCCCCC":"#A2227F",height:"98rpx"}),class:"rounded-10",onClick:_.confirm},{default:i((()=>[p(u(e.$t("confirm")),1)])),_:1},8,["disabled","style","onClick"])])),_:1}),c(B,{style:{height:"45rpx"}})])),_:1})])),_:1})}],["__scopeId","data-v-52a002c3"]]);export{k as default};
