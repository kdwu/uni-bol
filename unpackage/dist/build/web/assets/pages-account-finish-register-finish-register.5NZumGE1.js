import{_ as e,A as t,B as o,C as s,n,p as l,o as r,c as a,a as i,e as d,b as c,d as p,t as u,q as h,z as f,i as g,I as x,f as C}from"./index-DwQl5z1t.js";import{_ as w}from"./back.4xmjFoKr.js";let m=null;const y=e({data:()=>({code:"",countdown:120,phone:"",inProgress:!1}),computed:{isButtonDisabled(){return""===this.code}},onLoad(e){this.phone=e.phone,this.getCode()},methods:{back(){t()},getCode(){if(this.inProgress)return;let e={phone:this.phone};o({title:this.$t("waiting"),mask:!0}),this.$H.post("/user/get_code",e).then((e=>{this.startCountdown(),s()})).catch((e=>{s()}))},startCountdown(){this.inProgress=!0,m=setInterval((()=>{this.countdown>0?this.countdown--:this.stopCountdown()}),1e3)},stopCountdown(){clearInterval(m),this.countdown=120,m=null,this.inProgress=!1},confirm(){this.inProgress&&this.stopCountdown(m),n({url:"/pages/account/set-password/set-password?phone="+this.phone+"&code="+this.code})}}},[["render",function(e,t,o,s,n,m){const y=l("status-bar"),b=d,_=f,k=g,F=x,B=C;return r(),a(b,null,{default:i((()=>[c(b,null,{default:i((()=>[c(y)])),_:1}),c(b,{class:"flex flex-row p-31 align-center"},{default:i((()=>[c(_,{src:w,style:{width:"45rpx",height:"45rpx"},onClick:m.back},null,8,["onClick"]),c(k,{class:"w_fill",style:{"text-align":"center","font-size":"36rpx",color:"#3C3C3C","font-weight":"bolder"}},{default:i((()=>[p(u(e.$t("finish.register")),1)])),_:1})])),_:1}),c(b,{style:{"margin-top":"225rpx",background:"linear-gradient(to bottom, #DCE3DC, #F9FFF9, #FFFFFF)","box-shadow":"0rpx 2rpx 4rpx 0rpx rgba(0,0,0,0.16)"},class:"mx-30 px-24 flex flex-column align-center rounded-20"},{default:i((()=>[c(k,{style:{"font-size":"36rpx","font-weight":"bolder",color:"#A2227F","margin-top":"58rpx","text-align":"center"},class:"flex justify-center align-center"},{default:i((()=>[p(u(e.$t("verify.code.tips"))+" "+u(n.phone),1)])),_:1}),c(b,{class:"flex align-center w_fill border-bottom",style:{"margin-top":"50rpx"}},{default:i((()=>[c(F,{type:"number",modelValue:n.code,"onUpdate:modelValue":t[0]||(t[0]=e=>n.code=e),class:"flex-1",placeholder:e.$t("verify.code"),"placeholder-style":"color:#B4B4B4; font-size:30rpx; font-weight:500; text-align: center;",style:{height:"90rpx",color:"#444444","font-weight":"500","font-size":"30rpx","text-align":"center"}},null,8,["modelValue","placeholder"]),c(b,{class:"flex align-center justify-center",style:{height:"90rpx"},onClick:m.getCode},{default:i((()=>[n.inProgress?(r(),a(k,{key:1,style:{color:"#B4B4B4","font-size":"30rpx","font-weight":"500"}},{default:i((()=>[p(u(n.countdown)+"s",1)])),_:1})):(r(),a(k,{key:0,style:{color:"#A2227F","font-size":"30rpx","font-weight":"500"}},{default:i((()=>[p(u(e.$t("resend")),1)])),_:1}))])),_:1},8,["onClick"])])),_:1}),c(b,{class:"w_fill",style:{"margin-top":"64rpx"}},{default:i((()=>[c(B,{type:"primary",disabled:m.isButtonDisabled,style:h({backgroundColor:m.isButtonDisabled?"#CCCCCC":"#A2227F",height:"98rpx"}),class:"rounded-10",onClick:m.confirm},{default:i((()=>[p(u(e.$t("confirm")),1)])),_:1},8,["disabled","style","onClick"])])),_:1}),c(b,{style:{height:"51rpx"}})])),_:1})])),_:1})}],["__scopeId","data-v-bea63fa0"]]);export{y as default};
